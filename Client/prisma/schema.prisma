// *** DO NOT EDIT. GENERATED BY PRISMIX. ***
datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id               Int      @id @default(autoincrement())
  email            String   @unique
  name             String?
  surname          String
  phoneNumber      Int
  password         String
  role             Role?    @relation(name: "RoleToUser", fields: [roleId], references: [id])
  roleId           Int      @default(1)
  createdAt        DateTime @default(now())
  authConfirmToken Int?
  isVarrified      Boolean? @default(false)
  orders           Order[]  @relation(name: "OrderToUser")
}

model Role {
  id          Int    @id @default(autoincrement())
  description String
  user        User[] @relation(name: "RoleToUser")
}

model Customer {
  id            Int    @id @default(autoincrement())
  Name          String
  Surname       String
  Company       String
  WebPage       String
  JobTitle      String
  Email         String
  BusinessPhone String
  MobilePhone   String
  FaxNumber     String
  Address       String
  PostalCode    Int
  City          String
  Province      String
  Notes         String
}

model Order {
  id                 Int                 @id @default(autoincrement())
  invoiceDate        DateTime
  collectionTime     DateTime
  onvoiceDate        DateTime
  orderNumber        Int
  VAT                Int
  totalAmount        Int
  totalAmountWithVAT Int
  orders             OrderLine[]         @relation(name: "OrderToOrderLine")
  profileInformation PaymentInformation? @relation(name: "OrderToPaymentInformation")
  userId             Int
  user               User                @relation(name: "OrderToUser", fields: [userId], references: [id])

  @@map("orders")
}

model OrderLine {
  id      Int   @id @default(autoincrement())
  order   Order @relation(name: "OrderToOrderLine", fields: [orderId], references: [id])
  orderId Int
}

model PaymentInformation {
  id                Int      @id @default(autoincrement())
  PaymentDate       DateTime
  PaymentType       String
  PaymentOrderNotes String?
  order             Order    @relation(name: "OrderToPaymentInformation", fields: [orderId], references: [id])
  orderId           Int      @unique
}
